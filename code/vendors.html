<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HeaVenTly — Vendors</title>
  <meta name="theme-color" content="#08d9ff" />
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <!-- Main CSS -->
  <link rel="stylesheet" href="assets/css/vendors.css" />
  <link rel="icon" href="assets/img/icon/vendor_icon.png" />
</head>
<body>
  <!-- Decorative starfield (optional, injected by JS) -->
  <div id="starField" class="star-field" aria-hidden="true"></div>

  <!-- App wrapper -->
  <div class="app" role="application">

    <!-- SIDEBAR (matched to Events layout; active = Vendors) -->
    <aside id="sideNav" class="sidebar" aria-label="Sidebar">
      <div class="sb-brand">
        <img src="assets/img/icon/vendor_icon.png" alt="HeaVenTly" width="44" height="44" />
        <div class="sb-title">
          <div class="name">HeaVenTly</div>
          <div class="sub">Client • Dashboard</div>
        </div>
      </div>

      <nav class="sb-nav" role="navigation" aria-label="Primary navigation">
        <a class="sb-link" href="dashboard_client.html">
          <img src="assets/img/icon/dashboard_icon.png" alt="Dashboard" /><span>Home</span>
        </a>
        <a class="sb-link" href="events.html">
          <img src="assets/img/icon/myevent_icon.png" alt="Events" /><span>Events</span>
        </a>
        <a class="sb-link active" href="vendors.html">
          <img src="assets/img/icon/vendor_icon.png" alt="Vendors" /><span>Vendors</span>
        </a>
        <a class="sb-link" href="messages.html">
          <img src="assets/img/icon/chatbot_icon.png" alt="Messages" /><span>Messages</span>
        </a>
        <a class="sb-link" href="settings.html">
          <img src="assets/img/icon/settings_icon.png" alt="Settings" /><span>Settings</span>
        </a>
      </nav>

      <div class="sb-foot">
        <a class="sb-link" href="landing.html" id="logoutBtn">
          <img src="assets/img/icon/logout_icon.png" alt="Logout" /><span>Log out</span>
        </a>
        <div class="pill">v0.1 • client</div>
      </div>
    </aside>

    <!-- Overlay for mobile sidebar -->
    <div id="sideNavOverlay" class="side-nav-overlay" data-action="close-sidenav" hidden></div>

    <!-- MAIN -->
    <main id="mainContent" class="content" role="main" aria-live="polite">

      <!-- TOPBAR -->
      <header class="topbar" role="banner" aria-label="Header">
        <div style="display:flex;align-items:center;gap:12px">
          <button id="menuToggle" class="menu-btn" aria-label="Toggle menu" aria-expanded="false">☰</button>
          <div style="display:flex;flex-direction:column">
            <div style="font-weight:800;font-size:1.05rem">Vendors</div>
            <div class="small muted">Cari, bandingkan, dan booking vendor terbaik</div>
          </div>
        </div>

        <div class="search" role="search" style="margin-left:auto;display:flex;align-items:center;gap:8px;position:relative">
          <label for="searchInput" class="sr-only">Cari vendor</label>
          <input id="searchInput" class="input" type="search" placeholder="Cari vendor / kategori / lokasi" autocomplete="off" aria-autocomplete="list" aria-controls="searchSuggest" aria-expanded="false" />
          <button id="btnSearch" class="btn" type="button" aria-label="Cari">Search</button>
          <button class="btn" id="btnPlanNew" type="button">+ Plan New</button>
          <button class="btn btn-primary" id="btnGoBooked" type="button" aria-label="Lihat keranjang vendor">Booked</button>

          <script>
            document.addEventListener("DOMContentLoaded", function () {
              document.getElementById("btnGoBooked").addEventListener("click", function () {
                window.location.href = "booked_vendor.html";
              });
            });
          </script>


          <div id="searchSuggest" class="suggest" role="listbox" hidden></div>
        </div>
      </header>

      <!-- FILTER BAR -->
      <section class="filters" aria-label="Filter & Sort" style="padding:16px">
        <div class="row">
          <div class="filter-group">
            <label for="categorySelect">Kategori</label>
            <select id="categorySelect" class="select">
              <option value="">Semua</option>
              <option value="catering">Catering</option>
              <option value="decor">Decor</option>
              <option value="photo">Photography</option>
              <option value="entertainment">Entertainment/MC</option>
              <option value="venue">Venue</option>
              <option value="sound">Sound & Lighting</option>
              <option value="transport">Transport</option>
              <option value="other">Lainnya</option>
            </select>
          </div>

          <div class="filter-group">
            <label for="ratingSelect">Rating</label>
            <select id="ratingSelect" class="select">
              <option value="">Semua</option>
              <option value="4">≥ 4★</option>
              <option value="4.5">≥ 4.5★</option>
              <option value="5">5★ saja</option>
            </select>
          </div>

          <div class="filter-group">
            <label for="priceRange">Range Harga (estimasi)</label>
            <div class="range-wrap">
              <input id="priceMin" class="input small" type="number" inputmode="numeric" placeholder="Min" aria-label="Harga minimum" />
              <span class="sep">—</span>
              <input id="priceMax" class="input small" type="number" inputmode="numeric" placeholder="Max" aria-label="Harga maksimum" />
            </div>
          </div>

          <div class="filter-group">
            <label for="locationInput">Lokasi</label>
            <input id="locationInput" class="input" type="text" placeholder="Kota/Area" list="locationList" />
            <datalist id="locationList">
              <option value="Jakarta"></option>
              <option value="Bandung"></option>
              <option value="Surabaya"></option>
              <option value="Yogyakarta"></option>
              <option value="Bali"></option>
            </datalist>
          </div>

          <div class="filter-group">
            <label for="availableDate">Tanggal Tersedia</label>
            <input id="availableDate" class="input" type="date" />
          </div>

          <div class="filter-group">
            <label for="sortSelect">Urutkan</label>
            <select id="sortSelect" class="select">
              <option value="relevance">Relevansi</option>
              <option value="rating_desc">Rating tertinggi</option>
              <option value="price_asc">Harga terendah</option>
              <option value="price_desc">Harga tertinggi</option>
              <option value="popular">Paling populer</option>
              <option value="new">Terbaru</option>
            </select>
          </div>

          <div class="actions">
            <button id="btnApplyFilters" class="btn" type="button">Apply</button>
            <button id="btnClearFilters" class="btn ghost" type="button">Clear</button>
          </div>
        </div>

        <div class="filters-bar" style="margin-top:12px;display:flex;justify-content:space-between;align-items:center;gap:12px">
          <div id="filterChips" class="chip-box"></div>
          <div class="filter-actions">
            <button class="btn small" onclick="setSort('rating')">Sort Rating</button>
            <button class="btn small" onclick="setSort('price')">Sort Price</button>
            <button class="btn small" onclick="setSort('name')">Sort Name</button>
            <button class="btn small ghost" onclick="clearAllFilters()">Clear All</button>
          </div>
        </div>

        <div class="subbar" style="margin-top:12px;display:flex;justify-content:space-between;align-items:center">
          <div class="left" style="display:flex;gap:12px;align-items:center">
            <label class="toggle" aria-label="Tampilkan peta">
              <input id="toggleMap" type="checkbox" />
              <span>Peta</span>
            </label>
            <label class="toggle" aria-label="Infinite scroll">
              <input id="toggleInfinite" type="checkbox" />
              <span>Infinite scroll</span>
            </label>
          </div>

          <div class="right" style="display:flex;align-items:center;gap:12px">
            <select id="perPage" class="select small" aria-label="Item per halaman">
              <option value="12">12</option>
              <option value="24" selected>24</option>
              <option value="36">36</option>
              <option value="48">48</option>
            </select>
            <div id="resultCount" class="muted">0 hasil</div>
          </div>
        </div>
      </section>

      <!-- MAP VIEW (toggle) -->
      <section id="mapSection" class="map-section" aria-label="Peta vendor" hidden style="padding:0 16px 16px">
        <div id="mapContainer" class="map-container" role="application" aria-label="Map container">
          <!-- Peta di-render oleh JS -->
        </div>
      </section>

      <!-- VENDOR GRID -->
      <section class="vendor-area" aria-label="Daftar vendor" style="padding:0 16px 40px">
        <div id="vendorGrid" class="vendor-grid" role="list">
          <!-- Skeleton / Cards injected by JS -->
        </div>

        <div id="emptyState" class="empty-state" hidden role="status" aria-live="polite" style="margin-top:18px">
          <img src="assets/img/empty/search_empty.svg" alt="" aria-hidden="true" />
          <h3>Tidak ada vendor yang cocok</h3>
          <p>Periksa kembali filter atau ubah kata kunci pencarian.</p>
          <div class="empty-actions" style="display:flex;gap:8px;margin-top:10px">
            <button class="btn" id="emptyClear">Clear Filter</button>
            <button class="btn ghost" id="emptySeePopular">Lihat vendor populer</button>
          </div>
        </div>

        <nav id="pagination" class="pagination" role="navigation" aria-label="Pagination" style="margin-top:18px">
          <button class="btn ghost" id="pagePrev" type="button" aria-label="Sebelumnya" disabled>Prev</button>
          <ul id="pageList" class="page-list" role="list" style="display:inline-flex;gap:8px;align-items:center;margin:0 12px"></ul>
          <button class="btn ghost" id="pageNext" type="button" aria-label="Berikutnya" disabled>Next</button>
        </nav>
      </section>
    </main>
  </div>

  <!-- COMPARE DRAWER -->
  <aside id="compareBar" class="compare-bar" aria-live="polite" aria-label="Bandingkan vendor" hidden>
    <div class="wrap">
      <div class="left">
        <div class="title">Bandingkan</div>
        <div id="compareCount" class="muted">0 dipilih</div>
      </div>
      <div id="compareThumbs" class="thumbs" role="list" aria-label="Vendor dipilih"></div>
      <div class="right">
        <button id="btnCompare" class="btn btn-primary" type="button" disabled>Compare</button>
        <button id="btnCompareClear" class="btn ghost" type="button">Clear</button>
      </div>
    </div>
  </aside>

  <!-- QUICK VIEW MODAL -->
  <div id="quickViewModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="qvTitle" hidden>
    <div class="modal-box">
      <header class="modal-head">
        <h3 id="qvTitle">Nama Vendor</h3>
        <button class="btn ghost" data-close="quickViewModal" aria-label="Tutup">Close</button>
      </header>

      <div class="modal-body qv-body">
        <aside class="qv-gallery" aria-label="Galeri">
          <div class="qv-cover">
            <img id="qvCover" src="" alt="Foto utama vendor" />
          </div>
          <div id="qvThumbs" class="qv-thumbs" role="list"></div>
        </aside>

        <section class="qv-info" aria-label="Informasi vendor">
          <div class="qv-meta" style="display:flex;justify-content:space-between;align-items:center">
            <div id="qvRating" class="rating" aria-label="Rating">★ 0.0</div>
            <div id="qvBadges" class="badges" role="list"></div>
          </div>

          <p id="qvDesc" class="muted">Ringkasan singkat vendor…</p>

          <div class="qv-price" style="display:flex;justify-content:flex-start;gap:12px;align-items:center">
            <div class="label">Estimasi harga</div>
            <div class="value" id="qvPrice">Rp —</div>
          </div>

          <div class="qv-actions" style="display:flex;gap:8px;margin-top:8px">
            <button id="qvBtnWishlist" class="btn ghost" type="button" aria-pressed="false">❤ Wishlist</button>
            <button id="qvBtnChat" class="btn" type="button">Chat Vendor</button>
            <button id="qvBtnAdd" class="btn btn-primary" type="button">Add to Event</button>
          </div>

          <div class="qv-tabs" role="tablist" aria-label="Detail" style="margin-top:12px;display:flex;gap:8px">
            <button class="tab active" data-tab="qvPackages" role="tab" aria-selected="true">Packages</button>
            <button class="tab" data-tab="qvReviews" role="tab">Reviews</button>
            <button class="tab" data-tab="qvAvail" role="tab">Availability</button>
          </div>

          <div id="qvPackages" class="qv-panel active" role="tabpanel" style="padding-top:12px">
            <ul id="qvPackageList" class="list"></ul>
            <button id="qvBtnDownloadProposal" class="btn ghost" type="button">Download Proposal</button>
          </div>

          <div id="qvReviews" class="qv-panel" role="tabpanel" hidden style="padding-top:12px">
            <div id="qvRatingBreakdown" class="rating-breakdown" aria-label="Ringkasan rating"></div>
            <ul id="qvReviewList" class="list"></ul>
          </div>

          <div id="qvAvail" class="qv-panel" role="tabpanel" hidden style="padding-top:12px">
            <div id="qvCalendar" class="mini-calendar" aria-label="Kalender ketersediaan"></div>
            <div class="estimator" style="margin-top:8px;display:flex;gap:8px;align-items:center">
              <label for="qvGuestCount" style="font-weight:700">Estimator (jumlah tamu)</label>
              <input id="qvGuestCount" class="input small" type="number" min="1" step="1" value="100" />
              <button id="qvBtnEstimate" class="btn small" type="button">Estimate</button>
              <div id="qvEstimateResult" class="muted"></div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

  <!-- VENDOR DETAIL MODAL -->
  <div id="vendorDetailModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="vdTitle" hidden>
    <div class="modal-box xl">
      <header class="modal-head">
        <div class="head-left">
          <h2 id="vdTitle">Nama Vendor</h2>
          <div id="vdMeta" class="muted">Kategori • Lokasi • Rating</div>
        </div>
        <div class="head-right" style="display:flex;gap:8px;align-items:center">
          <button id="vdBtnChat" class="btn" type="button">Chat</button>
          <button id="vdBtnBook" class="btn btn-primary" type="button">Book</button>
          <button class="btn ghost" data-close="vendorDetailModal" aria-label="Tutup">Close</button>
        </div>
      </header>

      <div class="vd-body" style="display:flex;gap:12px;padding-top:12px">
        <aside class="vd-gallery" aria-label="Galeri" style="width:48%">
          <div id="vdCarousel" class="carousel" aria-roledescription="carousel"></div>
          <div id="vdCarouselNav" class="carousel-nav" style="margin-top:8px;display:flex;gap:8px;justify-content:center">
            <button class="btn ghost small" data-action="prev">‹</button>
            <button class="btn ghost small" data-action="next">›</button>
          </div>
        </aside>

        <section class="vd-info" aria-label="Informasi & paket" style="width:52%;display:flex;flex-direction:column;gap:12px">
          <div class="section">
            <h3>Deskripsi</h3>
            <p id="vdDesc" class="muted">Detail lengkap vendor…</p>
          </div>

          <div class="section">
            <h3>Paket & Harga</h3>
            <table class="table" aria-label="Daftar paket" style="width:100%;border-collapse:collapse">
              <thead>
                <tr>
                  <th style="text-align:left">Paket</th>
                  <th style="text-align:left">Fitur</th>
                  <th style="text-align:left">Harga mulai</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="vdPackageTable"></tbody>
            </table>
          </div>

          <div class="section">
            <h3>Ulasan</h3>
            <div id="vdRatingSummary" class="rating-summary"></div>
            <ul id="vdReviews" class="list"></ul>
          </div>

          <div class="section">
            <h3>Ketersediaan</h3>
            <div id="vdBigCalendar" class="calendar" aria-label="Kalender vendor"></div>
          </div>

          <div class="section">
            <h3>Kontak</h3>
            <div class="contact-grid" style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px">
              <a id="vdWA" class="btn" href="#" target="_blank" rel="noopener">WhatsApp</a>
              <a id="vdTel" class="btn ghost" href="tel:" >Telepon</a>
              <a id="vdSite" class="btn ghost" href="#" target="_blank" rel="noopener">Website</a>
              <button id="vdDownloadContract" class="btn" type="button">Download Contract</button>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

  <!-- COMPARE MODAL -->
  <div id="compareModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="cmpTitle" hidden>
    <div class="modal-box lg">
      <header class="modal-head">
        <h3 id="cmpTitle">Perbandingan Vendor</h3>
        <button class="btn ghost" data-close="compareModal" aria-label="Tutup">Close</button>
      </header>
      <div class="modal-body">
        <div class="compare-table" role="table" aria-label="Tabel perbandingan">
          <div class="compare-row head" role="row" style="display:flex;gap:12px;padding:12px;border-bottom:1px solid rgba(255,255,255,0.03)">
            <div class="compare-cell" role="columnheader" style="flex:1">Fitur</div>
            <div id="cmpCol1" class="compare-cell" role="columnheader" style="flex:1">Vendor A</div>
            <div id="cmpCol2" class="compare-cell" role="columnheader" style="flex:1">Vendor B</div>
            <div id="cmpCol3" class="compare-cell" role="columnheader" style="flex:1">Vendor C</div>
          </div>
          <!-- rows -->
          <div class="compare-row" role="row" style="display:flex;gap:12px;padding:12px">
            <div class="compare-cell" role="cell" style="flex:1">Rating</div>
            <div id="cmpRating1" class="compare-cell" role="cell" style="flex:1"></div>
            <div id="cmpRating2" class="compare-cell" role="cell" style="flex:1"></div>
            <div id="cmpRating3" class="compare-cell" role="cell" style="flex:1"></div>
          </div>
          <!-- more rows omitted for brevity -->
        </div>
      </div>
      <footer class="modal-foot">
        <button id="cmpExport" class="btn" type="button">Export</button>
        <button id="cmpClose" class="btn ghost" type="button" data-close="compareModal">Tutup</button>
      </footer>
    </div>
  </div>

  <!-- GENERIC CONFIRM MODAL -->
  <div id="confirmModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="confirmTitle" hidden>
    <div class="modal-box sm">
      <h3 id="confirmTitle">Konfirmasi</h3>
      <p id="confirmText" class="muted">Apakah kamu yakin?</p>
      <div class="modal-actions" style="display:flex;justify-content:flex-end;gap:8px;margin-top:12px">
        <button class="btn ghost" data-action="cancel-confirm" type="button">Batal</button>
        <button class="btn" data-action="ok-confirm" type="button">Ya</button>
      </div>
    </div>
  </div>

  <!-- LOGOUT MODAL -->
  <div id="logoutModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="logoutTitle" hidden>
    <div class="modal-box sm">
      <h3 id="logoutTitle">Logout</h3>
      <p>Yakin ingin keluar?</p>
      <div class="modal-actions" style="display:flex;justify-content:flex-end;gap:8px;margin-top:12px">
        <button class="btn ghost" data-action="cancel-logout" type="button">Batal</button>
        <a class="btn" href="signin.html" data-action="confirm-logout">Logout</a>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div id="toast" class="toast" role="status" aria-live="polite" hidden></div>

  <!-- TEMPLATES -->
  <template id="vendorCardTemplate">
    <article class="vendor-card" role="listitem" data-id="">
      <header class="card-head">
        <div class="badges" role="list"></div>
        <button class="btn-icon wishlist" data-action="wishlist" aria-label="Tambah ke wishlist" aria-pressed="false">❤</button>
        <label class="checkbox-compare" aria-label="Pilih untuk compare">
          <input type="checkbox" data-action="compare" />
          <span class="sr-only">Bandingkan</span>
        </label>
      </header>

      <a class="thumb" href="#" data-action="open-detail" aria-label="Lihat detail vendor">
        <img class="img" src="" alt="" loading="lazy" />
      </a>

      <div class="card-body">
        <div class="row">
          <a class="vendor-name" href="#" data-action="open-detail">Nama Vendor</a>
          <div class="rating" aria-label="Rating">★ 0.0</div>
        </div>
        <div class="meta">
          <span class="category">Kategori</span> • <span class="location">Lokasi</span>
        </div>
        <p class="desc muted">Ringkasan singkat…</p>
        <div class="price">
          <span class="label">Mulai</span>
          <span class="value">Rp —</span>
        </div>
      </div>

      <footer class="card-foot">
        <button class="btn ghost" data-action="quick-view" type="button">Quick View</button>
        <button class="btn" data-action="chat" type="button">Chat</button>
        <button class="btn btn-primary" data-action="add" type="button">Add to Event</button>
      </footer>
    </article>
  </template>

  <template id="skeletonCardTemplate">
    <article class="vendor-card skeleton" role="listitem" aria-hidden="true">
      <div class="sk-head"></div>
      <div class="sk-img"></div>
      <div class="sk-line lg"></div>
      <div class="sk-line"></div>
      <div class="sk-line sm"></div>
      <div class="sk-actions"></div>
    </article>
  </template>

  <template id="autosuggestTemplate">
    <div class="suggest-item" role="option" data-type="" data-value="">
      <span class="leading">🔎</span>
      <span class="text">Suggestion</span>
      <span class="meta">Kategori</span>
    </div>
  </template>

  <template id="badgeTemplate">
    <span class="badge">Verified</span>
  </template>

  <template id="packageRowTemplate">
    <li class="pkg">
      <div class="pkg-name">Basic</div>
      <div class="pkg-feats muted">Fitur A, B, C</div>
      <div class="pkg-price">Rp —</div>
      <button class="btn small" data-action="select-package" type="button">Pilih</button>
    </li>
  </template>

  <template id="reviewItemTemplate">
    <li class="review">
      <div class="review-head" style="display:flex;gap:8px;align-items:center">
        <div class="avatar" aria-hidden="true"></div>
        <div class="who">
          <div class="name">Nama Client</div>
          <div class="muted small">12 Agu 2025 • 4.5★</div>
        </div>
      </div>
      <p class="review-text">Komentar ulasan…</p>
    </li>
  </template>

  <template id="compareThumbTemplate">
    <button class="thumb" data-id="" type="button" aria-label="Hapus dari compare">
      <img src="" alt="" />
      <span class="remove" aria-hidden="true">×</span>
    </button>
  </template>

  <template id="pageBtnTemplate">
    <li><button type="button" class="page-btn" data-page="">1</button></li>
  </template>

  <!-- Icons (lucide or custom svg sprite if needed) -->
  <script src="https://unpkg.com/lucide@latest" defer></script>
  <!-- Main JS -->
  <script src="assets/js/vendors.js" defer></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HeaVenTly - My Events</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
    :root {
      --primary: #6c63ff;
      --secondary: #00e0ff;
      --dark: #0d0d1a;
      --light: #f5f7ff;
      --gradient: linear-gradient(135deg, var(--primary), var(--secondary));
      --glass: rgba(255,255,255,0.06);
      --neon: 0 8px 40px rgba(108,99,255,0.14), 0 0 36px rgba(0,224,255,0.06);
      --muted: #a0a0c0;
      --radius: 14px;
      --gap: 12px;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Poppins', sans-serif;
      color: var(--light);
      height: 100vh;
      overflow-y: auto;
      position: relative;
      background: linear-gradient(45deg, #0a0e1b, #1a2a44, #0a0e1b);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
    }
    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .star-field {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }
    .star {
      position: absolute;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 50%;
      animation: twinkle 2s infinite alternate;
    }
    @keyframes twinkle {
      0% { opacity: 0.3; }
      100% { opacity: 1; }
    }

    /* ANIMATIONS */
    @keyframes fadeUp {
      0% { opacity: 0; transform: translateY(30px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .fade-up { opacity: 0; animation: fadeUp 1s ease forwards; }
    .delay-1 { animation-delay: 0.2s; }
    .delay-2 { animation-delay: 0.4s; }
    .delay-3 { animation-delay: 0.6s; }
    .glow-hover:hover {
      box-shadow: var(--neon);
      transform: scale(1.02);
      transition: 0.3s;
    }

    /* HEADER */
    header {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      padding: 1rem;
      background: linear-gradient(135deg, rgba(108,99,255,0.22) 0%, rgba(0,224,255,0.18) 100%);
      backdrop-filter: blur(16px) brightness(1.1);
      box-shadow: 0 0 32px 8px rgba(108,99,255,0.22), 0 0 48px 12px rgba(0,224,255,0.18);
      border-right: 2px solid rgba(108,99,255,0.18);
      border-top-right-radius: 24px;
      border-bottom-right-radius: 24px;
      transition: box-shadow 0.3s, background 0.3s;
      top: 0;
      width: 100%;
      z-index: 1000;
      box-shadow: var(--neon);
    }
    .logo {
      font-size: 1.5rem;
      font-weight: bold;
      background: var(--gradient);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      color: transparent;
      cursor: pointer;
      margin: 0;
      padding: 0;
      border-radius: 0;
      box-shadow: none;
      transition: none;
      user-select: none;
      display: inline-block;
  }
  @keyframes glow {
    from { text-shadow: 0 0 10px var(--primary), 0 0 20px var(--secondary); }
    to { text-shadow: 0 0 20px var(--primary), 0 0 30px var(--secondary); }
    }
    .header-right {
      display: flex;
      align-items: center;
      margin-left: auto;
    }
    .notification-bell {
      position: relative;
      margin-left: 1rem;
      cursor: pointer;
    }
    .notification-count {
      position: absolute;
      top: -5px;
      right: -5px;
      background: #ff4d4d;
      color: var(--light);
      border-radius: 50%;
      padding: 0.1rem 0.4rem;
      font-size: 0.7rem;
    }
    .chatbot-icon {
      margin-left: 1rem;
      font-size: 1.5rem;
      color: var(--secondary);
      cursor: pointer;
      transition: 0.3s;
    }
    .chatbot-icon:hover {
      color: var(--primary);
      transform: scale(1.1);
    }

    /* SIDE NAVIGATION */
    .side-nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 250px;
      height: 100%;
      background: rgba(13, 13, 26, 0.9);
      backdrop-filter: blur(8px);
      padding: 1rem;
      transform: translateX(-100%);
      transition: transform 0.2s ease;
      z-index: 1001;
      overflow-y: auto;
      max-height: 100vh;
      box-shadow: var(--neon);
    }
    .side-nav.open {
      transform: translateX(0);
      box-shadow: 0 0 48px 16px rgba(108,99,255,0.32), 0 0 64px 24px rgba(0,224,255,0.28);
    }
    .side-nav-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
    }
    .side-nav.open + .side-nav-overlay {
      display: block;
    }
    .nav-brand {
      font-size: 1.2rem;
      font-weight: bold;
      background: var(--gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 1rem;
    }
    .nav-item {
      display: flex;
      align-items: center;
      padding: 0.5rem;
      margin: 0.25rem 0;
      color: var(--light);
      text-decoration: none;
      transition: 0.3s;
    }
    .nav-item.active {
      background: var(--glass);
      border-radius: var(--radius);
      box-shadow: var(--neon);
    }
    .nav-item:hover {
      background: rgba(255,255,255,0.1);
      border-radius: var(--radius);
      box-shadow: var(--neon);
    }
    .nav-item img {
      width: 20px;
      height: 20px;
      margin-right: 0.5rem;
    }
    .nav-group {
      margin: 1rem 0;
    }
    .nav-group h3 {
      font-size: 0.9rem;
      color: var(--muted);
      margin-bottom: 0.5rem;
      text-transform: uppercase;
    }
    .nav-footer {
      position: absolute;
      bottom: 1rem;
      width: 100%;
      font-size: 0.7rem;
      color: var(--muted);
    }
    @media (min-width: 768px) {
      .side-nav {
        transform: translateX(-100%);
      }
      .side-nav.open {
        transform: translateX(0);
      }
    }

    /* MAIN CONTENT */
    .main-content {
      max-width: 1200px;
      margin: 80px auto 20px;
      padding: 1rem;
      min-height: calc(100vh - 180px);
    }
    .events-header {
      background: var(--glass);
      border-radius: var(--radius);
      padding: 1.5rem;
      text-align: center;
      box-shadow: var(--neon);
      backdrop-filter: blur(12px);
      margin-bottom: var(--gap);
    }
    .events-header h2 {
      font-size: 2rem;
      background: var(--gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .events-list {
      display: grid;
      gap: var(--gap);
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    }
    .event-card {
      background: var(--glass);
      border-radius: var(--radius);
      padding: 1rem;
      box-shadow: var(--neon);
      backdrop-filter: blur(12px);
      transition: 0.3s;
    }
    .event-card:hover {
      transform: scale(1.02);
    }
    .event-card h3 {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      color: var(--secondary);
    }
    .event-card p {
      color: var(--muted);
      margin-bottom: 0.5rem;
    }
    .event-card .actions {
      display: flex;
      gap: 0.5rem;
    }
    .event-card .btn {
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      transition: 0.3s;
    }
    .event-card .btn-edit {
      background: var(--gradient);
      color: var(--light);
    }
    .event-card .btn-edit:hover {
      box-shadow: var(--neon);
    }
    .event-card .btn-delete {
      background: #ff4d4d;
      color: var(--light);
    }
    .event-card .btn-delete:hover {
      box-shadow: 0 0 15px rgba(255,77,77,0.5);
    }

    /* MINI TOOLBOX */
    .mini-toolbox {
      background: var(--glass);
      border-radius: var(--radius);
      padding: 1rem;
      box-shadow: var(--neon);
      backdrop-filter: blur(12px);
      margin-top: var(--gap);
    }
    .mini-toolbox .head {
      cursor: pointer;
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      color: var(--secondary);
    }
    .mini-toolbox .body {
      cursor: pointer;
    }

    /* MINI FORUM CHAT */
    .mini-chat {
      background: var(--glass);
      border-radius: var(--radius);
      padding: 1rem;
      box-shadow: var(--neon);
      backdrop-filter: blur(12px);
      margin-top: var(--gap);
    }
    .mini-chat .head {
      cursor: pointer;
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      color: var(--secondary);
    }
    .mini-chat .body {
      cursor: pointer;
    }

    /* MINI RUNDOWN */
    .mini-rundown {
      background: var(--glass);
      border-radius: var(--radius);
      padding: 1rem;
      box-shadow: var(--neon);
      backdrop-filter: blur(12px);
      margin-top: var(--gap);
    }
    .mini-rundown .head {
      cursor: pointer;
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      color: var(--secondary);
    }
    .mini-rundown .body {
      cursor: pointer;
    }

    /* CALENDAR */
    .calendar {
      background: var(--glass);
      border-radius: var(--radius);
      padding: 1rem;
      box-shadow: var(--neon);
      backdrop-filter: blur(12px);
      margin-top: var(--gap);
    }
    .calendar h3 {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      color: var(--secondary);
    }
    .calendar .calendar-body {
      text-align: center;
    }
    .calendar .calendar-body input[type="date"] {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      color: var(--light);
      padding: 0.5rem;
      border-radius: var(--radius);
    }

    /* NOTES */
    .notes {
      background: var(--glass);
      border-radius: var(--radius);
      padding: 1rem;
      box-shadow: var(--neon);
      backdrop-filter: blur(12px);
      margin-top: var(--gap);
    }
    .notes h3 {
      font-size: 1.2rem;
      margin-bottom: 0.5rem;
      color: var(--secondary);
    }
    .notes textarea {
      width: 100%;
      min-height: 100px;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      color: var(--light);
      padding: 0.5rem;
      border-radius: var(--radius);
      resize: vertical;
    }

    /* FOOTER */
    footer {
      text-align: center;
      padding: 2rem;
      background: rgba(13, 13, 26, 0.9);
      box-shadow: 0 -2px 10px rgba(0,224,255,0.2);
    }
  </style>
</head>
<body>
  <div class="star-field" id="starField"></div>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <!-- HEADER -->
  <header>
    <div class="logo">HeaVenTly</div>
    <div class="header-right">
      <span class="notification-bell" onclick="location.href='notifications.html'">
        ðŸ””
        <span class="notification-count" id="unreadCount">3</span>
      </span>
      <span class="chatbot-icon" onclick="openChatbot()">ðŸ’¬</span>
    </div>
  </header>

  <!-- SIDE NAVIGATION -->
  <nav class="side-nav" id="sideNav" aria-label="Main navigation">
    <div class="nav-brand">HeaVenTly â€¢ Client</div>
    <div class="nav-group">
      <h3>Navigation</h3>
      <a href="events.html" class="nav-item active"><img src="myevent_icon.png" alt="My Events icon" /><span>My Events</span></a>
      <a href="vendors.html" class="nav-item"><img src="vendor_icon.png" alt="Vendors icon" /><span>Vendors</span></a>
      <a href="payments.html" class="nav-item"><img src="payment_icon.png" alt="Payments icon" /><span>Payments</span></a>
      <a href="profile.html" class="nav-item"><img src="profil_icon.png" alt="Profile icon" /><span>Profile</span></a>
    </div>
    <div class="nav-group">
      <h3>PRIMARY</h3>
      <a href="dashboard_client.html" class="nav-item"><img src="dashboard_icon.png" alt="Dashboard icon" /><span>Homepage</span></a>
      <a href="events_new.html" class="nav-item"><img src="buatevent_icon.png" alt="Create Event icon" /><span>Buat Event</span></a>
      <a href="#" class="nav-item"><img src="toolbox_icon.png" alt="Toolbox icon" /><span>Toolbox</span></a>
      <a href="#" class="nav-item"><img src="savedvendor_icon.png" alt="Saved Vendors icon" /><span>Saved Vendors</span></a>
    </div>
    <div class="nav-group">
      <h3>SECONDARY</h3>
      <a href="#" class="nav-item"><img src="report_icon.png" alt="Reports icon" /><span>Reports</span></a>
      <a href="#" class="nav-item"><img src="contract_icon.png" alt="Contracts icon" /><span>Contracts</span></a>
    </div>
    <div class="nav-group">
      <h3>UTILITIES & SUPPORT</h3>
      <a href="#" class="nav-item"><img src="help_icon.png" alt="Help icon" /><span>Help</span></a>
      <a href="#" class="nav-item"><img src="notif_icon.png" alt="Notifications icon" /><span>Notifications</span></a>
    </div>
    <div class="nav-group">
      <h3>Accessibility</h3>
      <a href="#" class="nav-item" onclick="toggleHighContrast()"><img src="contrast_icon.png" alt="High Contrast icon" /><span>High Contrast</span></a>
      <a href="#" class="nav-item" onclick="toggleLargeText()"><img src="large_text_icon.png" alt="Large Text icon" /><span>Large Text</span></a>
      <a href="#" class="nav-item" onclick="toggleNotifications()"><img src="notifsetting_icon.png" alt="Notification Settings icon" /><span>Notification Settings</span></a>
    </div>
    <div class="nav-group">
      <h3>Account</h3>
      <a href="#" class="nav-item" onclick="showLogoutModal()"><img src="logout_icon.png" alt="Logout icon" /><span>Logout</span></a>
      <a href="account_personal.html" class="nav-item"><img src="P_information_icon.png" alt="Personal Information icon" /><span>Personal Information</span></a>
      <a href="account_security.html" class="nav-item"><img src="security_icon.png" alt="Security icon" /><span>Security</span></a>
      <a href="account_password.html" class="nav-item"><img src="password_management_icon.png" alt="Password Management icon" /><span>Password Management</span></a>
      <a href="account_devices.html" class="nav-item"><img src="connected_device.png" alt="Connected Devices icon" /><span>Connected Devices</span></a>
      <a href="account_privacy.html" class="nav-item"><img src="data_privacy_icon.png" alt="Data & Privacy icon" /><span>Data & Privacy</span></a>
      <a href="account_sharing.html" class="nav-item"><img src="chatbot_icon.png" alt="Sharing Preferences icon" /><span>Sharing Preferences</span></a>
      <a href="account_payment.html" class="nav-item"><img src="payment_icon.png" alt="Payment & Subscription icon" /><span>Payment & Subscription</span></a>
    </div>
    <div class="nav-footer">
      v1.0 (prod) | <a href="#">Terms</a> | <a href="#">Privacy</a>
    </div>
  </nav>
  <div class="side-nav-overlay" id="sideNavOverlay"></div>

  <!-- MAIN CONTENT -->
  <div class="main-content fade-up" id="main-content">
    <div class="events-header">
      <h2>My Events</h2>
    </div>
    <div class="events-list" id="eventsList"></div>
    <div class="mini-toolbox">
      <h3 class="head" onclick="location.href='toolbox.html'">Mini Toolbox</h3>
      <div class="body" onclick="openMiniToolbox()">Click to use mini toolbox</div>
    </div>
    <div class="mini-chat">
      <h3 class="head" onclick="location.href='forum_chat.html'">Mini Forum Chat</h3>
      <div class="body" onclick="openMiniChat()">Click to open mini chat</div>
    </div>
    <div class="mini-rundown">
      <h3 class="head" onclick="location.href='rundown.html'">Mini Rundown</h3>
      <div class="body" onclick="openMiniRundown()">Click to view mini rundown</div>
    </div>
    <div class="calendar">
      <h3>Calendar</h3>
      <div class="calendar-body">
        <input type="date" id="calendarInput" onchange="updateCalendar(this.value)" />
      </div>
    </div>
    <div class="notes">
      <h3>Notes</h3>
      <textarea placeholder="Add your notes here..." onblur="saveNotes(this.value)"></textarea>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <p>&copy; 2025 HeaVenTly. All rights reserved.</p>
  </footer>

  <script>
    // Mock auth check
    if (!localStorage.getItem('authenticated')) {
      alert('Please log in.');
      location.href = 'signin.html';
    }

    // Create star field background
    function createStars() {
      const starField = document.getElementById('starField');
      for (let i = 0; i < 100; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.width = `${Math.random() * 2 + 1}px`;
        star.style.height = star.style.width;
        star.style.left = `${Math.random() * 100}vw`;
        star.style.top = `${Math.random() * 100}vh`;
        star.style.animationDuration = `${Math.random() * 3 + 2}s`;
        starField.appendChild(star);
      }
    }
    createStars();

    // Side Navigation
    let sideNavOpen = false;
    function toggleSideNav() {
      const sideNav = document.getElementById('sideNav');
      const overlay = document.getElementById('sideNavOverlay');
      if (sideNav && overlay) {
        sideNavOpen = !sideNavOpen;
        sideNav.classList.toggle('open', sideNavOpen);
        overlay.style.display = sideNavOpen ? 'block' : 'none';
        document.querySelector('.logo').setAttribute('aria-expanded', sideNavOpen);
        if (sideNavOpen) {
          sideNav.querySelector('.nav-item').focus();
          console.log('ui.hamburger.toggle', { open: sideNavOpen, page: 'events.list' });
        }
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      const logo = document.querySelector('.logo');
      if (logo) {
        logo.addEventListener('click', toggleSideNav);
      }
      const overlay = document.getElementById('sideNavOverlay');
      if (overlay) {
        overlay.addEventListener('click', toggleSideNav);
      }

      // Load events
      loadEvents();

      // Load notes if any
      const notes = localStorage.getItem('notes');
      if (notes) {
        document.querySelector('.notes textarea').value = notes;
      }
    });

    document.addEventListener('keydown', (e) => {
      if (sideNavOpen && e.key === 'Escape') toggleSideNav();
    });

    // Load and display events
    function loadEvents() {
      const eventsList = document.getElementById('eventsList');
      const events = JSON.parse(localStorage.getItem('events') || '[]');
      const currentDate = new Date(); // Use current date for on going/expired check

      eventsList.innerHTML = '';
      events.forEach((event, index) => {
        const eventDate = new Date(event.date);
        const status = eventDate > currentDate ? 'On Going' : 'Expired';
        const card = document.createElement('div');
        card.className = 'event-card glow-hover';
        card.innerHTML = `
          <h3>${event.name}</h3>
          <p><strong>Date:</strong> ${eventDate.toLocaleDateString()}</p>
          <p><strong>Category:</strong> ${event.category}</p>
          <p><strong>Location:</strong> ${event.location}</p>
          <p><strong>Notes:</strong> ${event.notes || 'None'}</p>
          <p><strong>Status:</strong> ${status}</p>
          <div class="actions">
            <button class="btn btn-edit" onclick="editEvent(${index})">Edit</button>
            <button class="btn btn-delete" onclick="deleteEvent(${index})">Delete</button>
          </div>
        `;
        eventsList.appendChild(card);
      });
    }

    // Edit event (placeholder)
    function editEvent(index) {
      alert(`Editing event at index ${index}. (Feature to be implemented)`);
    }

    // Delete event
    function deleteEvent(index) {
      if (confirm('Are you sure you want to delete this event?')) {
        let events = JSON.parse(localStorage.getItem('events') || '[]');
        events.splice(index, 1);
        localStorage.setItem('events', JSON.stringify(events));
        loadEvents();
      }
    }

    // Mini Toolbox (placeholder)
    function openMiniToolbox() {
      alert('Mini toolbox opened! (Feature to be implemented)');
    }

    // Mini Forum Chat (placeholder)
    function openMiniChat() {
      alert('Mini forum chat opened! (Feature to be implemented)');
    }

    // Mini Rundown (placeholder)
    function openMiniRundown() {
      alert('Mini rundown opened! (Feature to be implemented)');
    }

    // Calendar Update (placeholder)
    function updateCalendar(date) {
      alert(`Calendar updated for date: ${date} (Feature to be implemented)`);
    }

    // Save Notes
    function saveNotes(value) {
      localStorage.setItem('notes', value);
    }

    // Accessibility Functions
    function toggleHighContrast() {
      document.body.classList.toggle('high-contrast');
      if (document.body.classList.contains('high-contrast')) {
        document.body.style.background = '#000';
        document.body.style.color = '#fff';
      } else {
        document.body.style.background = 'linear-gradient(45deg, #0a0e1b, #1a2a44, #0a0e1b)';
        document.body.style.color = getComputedStyle(document.documentElement).getPropertyValue('--light').trim();
      }
    }
    function toggleLargeText() {
      document.body.classList.toggle('large-text');
      document.body.style.fontSize = document.body.classList.contains('large-text') ? '1.2rem' : '1rem';
    }
    function toggleNotifications() {
      alert('Notification settings toggled! (Feature to be implemented)');
    }

    // Logout Modal
    function showLogoutModal() {
      document.getElementById('logoutModal').style.display = 'flex';
    }
    function hideLogoutModal() {
      document.getElementById('logoutModal').style.display = 'none';
    }

    // Chatbot Function
    function openChatbot() {
      alert('Chatbot opened! (Feature to be implemented)');
    }
  </script>
</body>
</html>